\subsection{Electrocardiogram (ECG) data}
\label{subsec:results_ecg}

The ECG analysis is divided into two different types

\begin{itemize}
    \item Heart rate;
    
        This analysis checks the heartbeat frequency;

    \item Heart rate variance.
    
        This analysis checks the heartbeat frequency variance and it is done by analyzing the variation of the interval between beats.

\end{itemize}

At the beginning of each experience, a baseline data was gathered to establish a comparison between the normal state of the user and the state induced state by the scene.

After the data gathering, an algorithm in python was used to read the data and separate it accordingly to each participant, method and round. Since the participants moved during the whole experience a lot of noise was collected by the sensors, so these outliers were removed. The following steps were to normalize the data between -1 and 1 and then a peak detection method was used then, if the results were appropriate, the interval between each peak was calculated and saved to be used in the next software. This judgment was made by analyzing the plotted ECG signal and the detected peaks. If the detected peaks are not aligned with the peaks of the signal, then the method's parameters were tuned to fit the detected peaks with the signals' peaks.

The next used software was Kubios HRV Standard. Kubios is a heart rate variability (HRV) analysis software for personal non-commercial use. The Kubios HRV Standard makes it possible to use your HR monitor to examine the health of the cardiovascular system or to evaluate stress and recovery \cite{kubios}. At Kubius, the file with the saved intervals was analyzed and the results were saved in a report file to be read in python again. In python the results were plotted, tabled and statistically tested as the other data. In Appendix \ref{ap:ecg_processing_apend} there is a diagram with a pseudo-algorithm of this process.

This analysis was made by comparing the baseline values with the values of each round individually and between the round values themselves.

\subsubsection{Analysis of the heartbeat frequency}

\input{Resultados/ECG/bpm.tex}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
%
\subsubsection{Analysis of the heartbeat variancy}
%
\input{Resultados/ECG/sdnn}